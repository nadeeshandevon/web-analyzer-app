version: '3.8'

services:
  web-analyzer-api:
    build:
      context: ./web-analyzer-api
      dockerfile: Dockerfile
    ports:
      - "8081:8081"
      - "9090:9090"
    environment:
      - LOG_LEVEL=info
      - SERVER_PORT=8081
      - METRICS_PORT=9090
      - API_KEY=dev-key-123

  web-analyzer-web:
    build:
      context: ./web-analyzer-web
      dockerfile: Dockerfile
    ports:
      - "8080:80"
    environment:
      - API_BASE_URL=/api/v1/web-analyzer
      - API_KEY=dev-key-123
    depends_on:
      - web-analyzer-api
